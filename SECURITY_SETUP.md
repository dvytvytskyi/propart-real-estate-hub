# üîê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ ProPart Real Estate Hub

## ‚úÖ –©–æ –±—É–ª–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### 1. **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**
- ‚úÖ Connection pooling –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º reconnect
- ‚úÖ –¢–∞–π–º–∞—É—Ç–∏ –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ñ error handlers
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π rollback –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö

### 2. **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è**
- ‚úÖ –†–æ—Ç–∞—Ü—ñ—è –ª–æ–≥—ñ–≤ (10MB, 10 —Ñ–∞–π–ª—ñ–≤)
- ‚úÖ –†—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ –ª–æ–≥—É–≤–∞–Ω–Ω—è (INFO, WARNING, ERROR)
- ‚úÖ –õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `logs/propart.log`

### 3. **HubSpot API Rate Limiting**
- ‚úÖ –õ—ñ–º—ñ—Ç 90 requests/10 seconds (–±–µ–∑–ø–µ—á–Ω–æ –ø—ñ–¥ 100)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π retry –∑ exponential backoff
- ‚úÖ –û–±—Ä–æ–±–∫–∞ 429 (Too Many Requests)

### 4. **–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –±–µ–∑–ø–µ–∫–∞**
- ‚úÖ CSRF –∑–∞—Ö–∏—Å—Ç
- ‚úÖ Rate limiting –¥–ª—è login (10 —Å–ø—Ä–æ–±/—Ö–≤–∏–ª–∏–Ω—É)
- ‚úÖ Bcrypt –¥–ª—è –ø–∞—Ä–æ–ª—ñ–≤ (–∑–∞–º—ñ—Å—Ç—å Werkzeug)
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SECRET_KEY

---

## üìã –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –û–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
pip install -r requirements.txt
```

### 2. –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ SECRET_KEY

```bash
python -c "import secrets; print(secrets.token_hex(32))"
```

–î–æ–¥–∞–π—Ç–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –∫–ª—é—á –≤ `.env` —Ñ–∞–π–ª:

```env
SECRET_KEY=–≤–∞—à-–∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π-–∫–ª—é—á-—Ç—É—Ç
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ DATABASE_URL (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–Ø–∫—â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–∞ —ñ–Ω—à–æ–º—É —Ö–æ—Å—Ç—ñ:

```env
DATABASE_URL=postgresql://username:password@host:port/database
```

### 4. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ Alembic (–º—ñ–≥—Ä–∞—Ü—ñ—ó)

```bash
# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Alembic
alembic init migrations

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–µ—Ä—à—É –º—ñ–≥—Ä–∞—Ü—ñ—é
alembic revision --autogenerate -m "Initial migration"

# –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é
alembic upgrade head
```

---

## üîí –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –±–µ–∑–ø–µ–∫–∏

### –î–ª—è Production:

1. **–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∏–ª—å–Ω–∏–π SECRET_KEY**
   ```bash
   python -c "import secrets; print(secrets.token_hex(32))"
   ```

2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS**
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ reverse proxy (nginx/Apache)

3. **–û–±–º–µ–∂—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–∫—Ä–µ–º–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
   - –î–∞–π—Ç–µ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø—Ä–∞–≤–∞

4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**
   ```bash
   pip list --outdated
   pip install --upgrade package-name
   ```

5. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥—ñ–≤**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ `logs/propart.log`
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ alerting –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤

```bash
# –û—Å—Ç–∞–Ω–Ω—ñ 50 —Ä—è–¥–∫—ñ–≤ –ª–æ–≥—É
tail -50 logs/propart.log

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
tail -f logs/propart.log

# –ü–æ—à—É–∫ –ø–æ–º–∏–ª–æ–∫
grep ERROR logs/propart.log
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ rate limiting

–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∏—Å—É—é—Ç—å:
- Rate limit –¥–æ—Å—è–≥–Ω—É—Ç–æ
- 429 –ø–æ–º–∏–ª–∫–∏ –≤—ñ–¥ HubSpot
- –°–ø—Ä–æ–±–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

---

## üö® –í—ñ–¥–æ–º—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è

### 1. "SECRET_KEY not set" warning

**–ü—Ä–æ–±–ª–µ–º–∞:** SECRET_KEY –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ .env

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
echo "SECRET_KEY=$(python -c 'import secrets; print(secrets.token_hex(32))')" >> .env
```

### 2. Database connection errors

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –º–æ–∂—É –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ PostgreSQL

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –∑–∞–ø—É—â–µ–Ω–æ PostgreSQL
pg_isready

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DATABASE_URL –≤ .env
echo $DATABASE_URL
```

### 3. HubSpot 429 errors

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ HubSpot API

**–†—ñ—à–µ–Ω–Ω—è:**
- Rate limiter –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–æ–±–ª—è—î —Ü–µ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
- –ó–±—ñ–ª—å—à—Ç–µ —ñ–Ω—Ç–µ—Ä–≤–∞–ª –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ

---

## üìù –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

- [Flask Security Best Practices](https://flask.palletsprojects.com/en/2.3.x/security/)
- [HubSpot API Rate Limits](https://developers.hubspot.com/docs/api/usage-details)
- [Alembic Documentation](https://alembic.sqlalchemy.org/)

