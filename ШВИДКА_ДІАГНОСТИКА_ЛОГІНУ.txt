================================================================
üîç –®–í–ò–î–ö–ê –î–Ü–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú–ò –ó –õ–û–ì–Ü–ù–û–ú
================================================================

–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞:
ssh root@188.245.228.175
–ü–∞—Ä–æ–ª—å: 7NdMqCMV4wtw

================================================================
–ö–†–û–ö 1: –î–Ü–ê–ì–ù–û–°–¢–ò–ö–ê
================================================================

cd /home/pro-part-agent/htdocs/agent.pro-part.online/propart-real-estate-hub
source venv/bin/activate
python3 diagnose_login_issue.py
deactivate

–¶–µ –ø–æ–∫–∞–∂–µ:
- –°–∫—ñ–ª—å–∫–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ
- –°–∫—ñ–ª—å–∫–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏—Ö
- –ß–∏ –ø—Ä–∞—Ü—é—é—Ç—å –ø–∞—Ä–æ–ª—ñ
- –î–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–∂–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞

================================================================
–ö–†–û–ö 2: –ü–ï–†–ï–í–Ü–†–ö–ê –ó–ê–ë–õ–û–ö–û–í–ê–ù–ò–•
================================================================

cd /home/pro-part-agent/htdocs/agent.pro-part.online/propart-real-estate-hub
source venv/bin/activate
python3 check_locked_users.py
deactivate

================================================================
–ö–†–û–ö 3: –†–û–ó–ë–õ–û–ö–£–í–ê–ù–ù–Ø –ê–ì–ï–ù–¢–ê
================================================================

cd /home/pro-part-agent/htdocs/agent.pro-part.online/propart-real-estate-hub
source venv/bin/activate
python3 unlock_user.py <username>
deactivate

================================================================
–ö–†–û–ö 4: –ü–ï–†–ï–í–Ü–†–ö–ê –õ–û–ì–Ü–í
================================================================

# –°–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–π—Ç–∏ –ø—ñ–¥ –∞–≥–µ–Ω—Ç–æ–º, –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏:

sudo journalctl -u propart -f --since "2 minutes ago" | grep -i "login\|auth\|error"

–®—É–∫–∞–π—Ç–µ:
- "üîç Login: –°–ø—Ä–æ–±–∞ –≤—Ö–æ–¥—É –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" - –ª–æ–≥—ñ–Ω –ø–æ—á–∞–≤—Å—è
- "‚úÖ Login: –£—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥" - —É—Å–ø—ñ—à–Ω–æ
- "‚ö†Ô∏è Login: –ê–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏–π" - –∞–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏–π
- "‚ö†Ô∏è Login: –ê–∫–∞—É–Ω—Ç –¥–µ–∞–∫—Ç–∏–≤–æ–≤–∞–Ω–∏–π" - –∞–∫–∞—É–Ω—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏–π
- "‚ö†Ô∏è Login: –ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å" - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å

================================================================
–ö–†–û–ö 5: –®–í–ò–î–ö–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø (—Ä–æ–∑–±–ª–æ–∫—É–≤–∞—Ç–∏ –≤—Å—ñ—Ö –∞–≥–µ–Ω—Ç—ñ–≤)
================================================================

cd /home/pro-part-agent/htdocs/agent.pro-part.online/propart-real-estate-hub
source venv/bin/activate
python3 << 'EOF'
from app import app, db, User
with app.app_context():
    agents = User.query.filter_by(role='agent').all()
    for agent in agents:
        agent.unlock_account()
        agent.is_active = True
        agent.reset_login_attempts()
    db.session.commit()
    print(f"‚úÖ –†–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–æ —Ç–∞ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ {len(agents)} –∞–≥–µ–Ω—Ç—ñ–≤")
EOF
deactivate

================================================================
–ö–†–û–ö 6: –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø –ü–ê–†–û–õ–Ø (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
================================================================

cd /home/pro-part-agent/htdocs/agent.pro-part.online/propart-real-estate-hub
source venv/bin/activate
python3 fix_user_login.py <username> <–Ω–æ–≤–∏–π_–ø–∞—Ä–æ–ª—å>
deactivate

================================================================
–ù–ê–î–Ü–®–õ–Ü–¢–¨ –†–ï–ó–£–õ–¨–¢–ê–¢–ò:
================================================================

1. –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ diagnose_login_issue.py
2. –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ check_locked_users.py
3. –õ–æ–≥–∏ –ø—ñ—Å–ª—è —Å–ø—Ä–æ–±–∏ –ª–æ–≥—ñ–Ω—É
4. –Ø–∫–µ —Å–∞–º–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–∞—á–∏—Ç—å –∞–≥–µ–Ω—Ç –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –≤—Ö–æ–¥—É

================================================================

