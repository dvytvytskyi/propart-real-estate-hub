# üîß –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø –°–ò–ù–•–†–û–ù–Ü–ó–ê–¶–Ü–á –ö–û–ú–ï–ù–¢–ê–†–Ü–í –ó HUBSPOT

## –ü—Ä–æ–±–ª–µ–º–∞:
–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –∞–ª–µ –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –≤ HubSpot Notes.

## –ü—Ä–∏—á–∏–Ω–∞:
–£ –ª—ñ–¥–∞ –Ω–µ–º–∞—î hubspot_deal_id (–ª—ñ–¥ –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∑ HubSpot).

## –†—ñ—à–µ–Ω–Ω—è:

### –ö–†–û–ö 1: –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞
```bash
ssh root@188.245.228.175
# –ü–∞—Ä–æ–ª—å: 7NdMqCMV4wtw
```

### –ö–†–û–ö 2: –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –ø—Ä–æ–µ–∫—Ç—É
```bash
cd /home/pro-part-agent/htdocs/agent.pro-part.online/propart-real-estate-hub
```

### –ö–†–û–ö 3: –û–Ω–æ–≤—ñ—Ç—å –∫–æ–¥
```bash
git pull origin main
```

### –ö–†–û–ö 4: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª—ñ–¥ "—Ç–µ—Å—Ç –∫–æ–º–µ–Ω—Ç"
```bash
python3 << 'EOF'
from app import app, db, Lead
with app.app_context():
    lead = Lead.query.filter_by(deal_name="—Ç–µ—Å—Ç –∫–æ–º–µ–Ω—Ç").first()
    if not lead:
        leads = Lead.query.filter(Lead.deal_name.like("%—Ç–µ—Å—Ç%")).all()
        if leads:
            lead = leads[0]
    
    if lead:
        print(f"–õ—ñ–¥: {lead.deal_name} (ID: {lead.id})")
        print(f"hubspot_deal_id: {lead.hubspot_deal_id or '‚ùå –ù–ï –í–°–¢–ê–ù–û–í–õ–ï–ù–û'}")
        if not lead.hubspot_deal_id:
            print(f"\n‚ö†Ô∏è  –ü–†–û–ë–õ–ï–ú–ê: –õ—ñ–¥ –Ω–µ –º–∞—î hubspot_deal_id!")
            print(f"   –í–∏–∫–æ–Ω–∞–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é (–ö–†–û–ö 5)")
        else:
            print(f"\n‚úÖ –õ—ñ–¥ –º–∞—î hubspot_deal_id, –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏")
    else:
        print("–õ—ñ–¥ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ")
EOF
```

### –ö–†–û–ö 5: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–π—Ç–µ –ª—ñ–¥ –∑ HubSpot (—è–∫—â–æ –Ω–µ–º–∞—î hubspot_deal_id)
```bash
# –ó–∞–º—ñ–Ω—ñ—Ç—å <LEAD_ID> –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π ID –ª—ñ–¥–∞ –∑ –ö–†–û–ö–£ 4
python3 sync_lead_to_hubspot.py <LEAD_ID>

# –ê–ë–û –∑–∞–ø—É—Å—Ç—ñ—Ç—å –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ (–∑–Ω–∞–π–¥–µ –ª—ñ–¥ "—Ç–µ—Å—Ç –∫–æ–º–µ–Ω—Ç" –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
python3 sync_lead_to_hubspot.py
```

### –ö–†–û–ö 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫
```bash
sudo systemctl restart propart
```

### –ö–†–û–ö 7: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—è
```bash
# –î–æ–¥–∞–π—Ç–µ –Ω–æ–≤–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
# –ü–æ—Ç—ñ–º –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏:
tail -50 logs/propart.log | grep -i "–∫–æ–º–µ–Ω—Ç–∞—Ä\|hubspot\|note"

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ HubSpot, —á–∏ –∑'—è–≤–∏–≤—Å—è –∫–æ–º–µ–Ω—Ç–∞—Ä –≤ Notes
```

## –Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ:
```bash
tail -200 logs/propart.log | grep -A 10 "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è"
```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∞—Ü—é—î HubSpot API:
```bash
python3 check_comment_sync.py
```

3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —î hubspot_deal_id —É –≤—Å—ñ—Ö –ª—ñ–¥—ñ–≤:
```bash
python3 << 'EOF'
from app import app, db, Lead
with app.app_context():
    total = Lead.query.count()
    with_deal = Lead.query.filter(Lead.hubspot_deal_id.isnot(None)).count()
    without_deal = total - with_deal
    print(f"–í—Å—å–æ–≥–æ –ª—ñ–¥—ñ–≤: {total}")
    print(f"–ó hubspot_deal_id: {with_deal}")
    print(f"–ë–µ–∑ hubspot_deal_id: {without_deal}")
EOF
```

## –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

‚úÖ –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –±—É–¥—É—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏—Å—è –∑ HubSpot Notes
‚úÖ –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑'—è–≤–ª—è—Ç—å—Å—è –≤ HubSpot –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è
‚úÖ –°—Ç–∞—Ä—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ (—è–∫—ñ –≤–∂–µ –¥–æ–¥–∞–Ω—ñ) –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ - –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ —ó—Ö –≤—Ä—É—á–Ω—É –∞–±–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—ñ

