# üöÄ –î–µ–ø–ª–æ–π –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å –∑–∞—Ä–∞–∑

## ‚úÖ –ó–º—ñ–Ω–∏ –∑–∞–ø—É—à–µ–Ω—ñ –≤ git!

–í—Å—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –∑ HubSpot Notes —Ç–µ–ø–µ—Ä –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.

---

## üìã –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

```bash
cd /home/pro-part-agent/htdocs/agent.pro-part.online/propart-real-estate-hub
git pull origin main
sudo systemctl restart propart
```

---

## üîç –©–æ –±—É–ª–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **CSRF –ø–æ–º–∏–ª–∫–∞** - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ `@csrf.error_handler` –Ω–∞ `@app.errorhandler(CSRFError)`
2. **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤** - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç API –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π v3:
   - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è note: `POST /crm/v3/objects/notes`
   - –ê—Å–æ—Ü—ñ–∞—Ü—ñ—è –∑ deal: `PUT /crm/v3/objects/notes/{noteId}/associations/deal/{dealId}/note_to_deal`
3. **–ü–æ–∫—Ä–∞—â–µ–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è** –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

1. **–î–æ–¥–∞–π—Ç–µ –Ω–æ–≤–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä** –¥–æ –ª—ñ–¥–∞ –∑ `hubspot_deal_id`
2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏:**
   ```bash
   sudo journalctl -u propart -f | grep -i "note\|deal\|–∞—Å–æ—Ü—ñ–∞—Ü—ñ—è"
   ```
3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ HubSpot** - –Ω–æ—Ç–∞—Ç–∫–∞ –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è –≤ deal

---

## üí° –Ø–∫—â–æ –≤—Å–µ —â–µ –Ω–µ –ø—Ä–∞—Ü—é—î

–í–∏–∫–æ–Ω–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç:

```bash
cd /home/pro-part-agent/htdocs/agent.pro-part.online/propart-real-estate-hub
source venv/bin/activate
python3 test_note_creation.py
deactivate
```

–¶–µ –ø–æ–∫–∞–∂–µ —Ç–æ—á–Ω—É –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ –≤–æ–Ω–∞ —î.

