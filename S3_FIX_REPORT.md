# –ó–≤—ñ—Ç –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è S3 —Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è fallback

## üîç –ü—Ä–æ–±–ª–µ–º–∞
S3 –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–≤ —á–µ—Ä–µ–∑ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–æ –¥–æ –ø–æ–º–∏–ª–æ–∫ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—ñ–≤ –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ.

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- **–§—É–Ω–∫—Ü—ñ—è `get_s3_client()`**: –î–æ–¥–∞–Ω–æ –ø–æ–≤–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó S3
- **–§—É–Ω–∫—Ü—ñ—è `upload_file_to_s3()`**: –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- **–§—É–Ω–∫—Ü—ñ—è `delete_file_from_s3()`**: –î–æ–¥–∞–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤

### 2. –°—Ç–≤–æ—Ä–µ–Ω–æ fallback —Å–∏—Å—Ç–µ–º—É
- **–õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**: –ö–æ–ª–∏ S3 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π, —Ñ–∞–π–ª–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—î—Ç—å—Å—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –æ–±–æ—Ö —Ç–∏–ø—ñ–≤**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –∑ S3 —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏

### 3. –ü–æ–∫—Ä–∞—â–µ–Ω–æ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫
- **Graceful fallback**: –ü–æ–º–∏–ª–∫–∏ S3 –Ω–µ –∑—É–ø–∏–Ω—è—é—Ç—å —Ä–æ–±–æ—Ç—É —Å–∏—Å—Ç–µ–º–∏
- **–î–µ—Ç–∞–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è**: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î –∑—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫**: –í—Å—ñ –ø–æ–º–∏–ª–∫–∏ –¥–µ—Ç–∞–ª—å–Ω–æ –ª–æ–≥—É—é—Ç—å—Å—è

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –∑–º—ñ–Ω–∏

### –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:
1. **`upload_file_locally()`** - –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
2. **`delete_file_locally()`** - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

### –û–Ω–æ–≤–ª–µ–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:
1. **`upload_file_to_s3()`** - –¥–æ–¥–∞–Ω–æ fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
2. **`delete_file_from_s3()`** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
3. **`get_s3_client()`** - –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤:
```
static/uploads/
‚îú‚îÄ‚îÄ properties/     # –§–æ—Ç–æ –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ units/         # –§–æ—Ç–æ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ documents/     # –î–æ–∫—É–º–µ–Ω—Ç–∏ –ø—Ä–æ–µ–∫—Ç—ñ–≤
‚îî‚îÄ‚îÄ misc/          # –Ü–Ω—à—ñ —Ñ–∞–π–ª–∏
```

## üìä –õ–æ–≥—É–≤–∞–Ω–Ω—è

### –ü—Ä–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ–º—É S3:
```
üîç === –ü–ï–†–ï–í–Ü–†–ö–ê –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–á S3 ===
   AWS_ACCESS_KEY_ID: ‚úÖ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
   AWS_SECRET_ACCESS_KEY: ‚úÖ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
   AWS_S3_BUCKET: your-bucket-name
   AWS_REGION: eu-central-1
üöÄ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è S3 –∫–ª—ñ—î–Ω—Ç–∞...
üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ S3...
‚úÖ S3 –∫–ª—ñ—î–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ
```

### –ü—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ S3:
```
üîç === –ü–ï–†–ï–í–Ü–†–ö–ê –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–á S3 ===
   AWS_ACCESS_KEY_ID: ‚ùå –≤—ñ–¥—Å—É—Ç–Ω—î
   AWS_SECRET_ACCESS_KEY: ‚ùå –≤—ñ–¥—Å—É—Ç–Ω—î
   AWS_S3_BUCKET: ‚ùå –≤—ñ–¥—Å—É—Ç–Ω—î
   AWS_REGION: eu-central-1
‚ö†Ô∏è S3 –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø–æ–≤–Ω—ñ—Å—Ç—é - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
   –î–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è S3 –¥–æ–¥–∞–π—Ç–µ –≤ .env —Ñ–∞–π–ª:
   AWS_ACCESS_KEY_ID=your_access_key
   AWS_SECRET_ACCESS_KEY=your_secret_key
   AWS_S3_BUCKET=your_bucket_name
   AWS_REGION=eu-central-1
```

### –ü—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É:
```
üì§ === –ü–û–ß–ê–¢–û–ö –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ø –§–ê–ô–õ–£ ===
   –§–∞–π–ª: properties/1_1697800000_photo.jpg
   –¢–∏–ø —Ñ–∞–π–ª—É: image/jpeg
   –†–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É: 1024 –±–∞–π—Ç
‚ö†Ô∏è S3 –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
üíæ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É –ª–æ–∫–∞–ª—å–Ω–æ: properties/1_1697800000_photo.jpg
‚úÖ –§–∞–π–ª –∑–±–µ—Ä–µ–∂–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ: /static/uploads/properties/photo.jpg
```

## üöÄ –ü–µ—Ä–µ–≤–∞–≥–∏

### 1. –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –Ω–∞–≤—ñ—Ç—å –±–µ–∑ S3
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ S3 —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–∏–º –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è–º
- ‚úÖ Graceful handling –ø–æ–º–∏–ª–æ–∫

### 2. –ì–Ω—É—á–∫—ñ—Å—Ç—å
- ‚úÖ –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ S3 –∞–±–æ –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ S3 –ø—ñ–∑–Ω—ñ—à–µ
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –æ–±–æ—Ö —Ç–∏–ø—ñ–≤ —Ñ–∞–π–ª—ñ–≤

### 3. –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- ‚úÖ –ó—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏
- ‚úÖ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –ø–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é S3

## üìù –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è S3 (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è S3 –¥–æ–¥–∞–π—Ç–µ –≤ `.env` —Ñ–∞–π–ª:
```env
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_S3_BUCKET=your_bucket_name
AWS_REGION=eu-central-1
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤:
- ‚úÖ S3 –∫–ª—ñ—î–Ω—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–∞–ø–∫–∏
- ‚úÖ URL –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
- ‚ùå –ü–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—ñ–≤
- ‚ùå –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–ª–∞ –±–µ–∑ S3
- ‚ùå –í—ñ–¥—Å—É—Ç–Ω—î –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫

**–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
- ‚úÖ –§–∞–π–ª–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –∑ S3 —Ç–∞ –±–µ–∑ –Ω—å–æ–≥–æ
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- ‚úÖ Graceful fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è

---

**–î–∞—Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** 20 –∂–æ–≤—Ç–Ω—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å:** üöÄ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
